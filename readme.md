# 生鸡蛋杯计算器 使用说明

## 1. 项目简介
这是一个基于生鸡蛋杯规则制作的网页计分器，支持：
- 紧急作战计分
- 隐藏关卡多版本计分（普通/紧急/无漏版本在下拉中直接选择）
- Boss 关卡多版本计分（含无漏版本）
- 计数加分（含圣诏封神阶梯计分）
- 最终得分自动计算

## 2. 运行方式

### 方式 A：直接网页打开
1. 双击 `cal.html`
2. 在浏览器中使用即可

### 方式 B：Electron 桌面运行
1. 安装依赖：
```bash
npm install
```
2. 启动桌面版：
```bash
npm start
```
3. 打包 EXE（便携版）：
```bash
npm run dist
```

## 3. 页面使用流程

### 3.1 基础信息
- 填写 `小队名`、`选手`、`开局分队`
- 选择 `难度`（n15/n16/n17/n18）

说明：
- n18 会影响部分紧急关卡分值
- 勾选 `持有不息+不赦` 会在最终分乘以 `1.1`

### 3.2 计数加分（左侧）
每项支持 `+1/-1` 计数，自动计入分数：
- 六星临招、五星临招、四星临招
- 圣诏封神计数（阶梯：第1个+50，第2个+30，第3个起每个+20）
- 二三层树洞1火、狗/熊/鸭/鼠/小八界击杀

### 3.3 作战加分（中间）
- `Boss关卡`：从下拉选具体版本后点 `加入Boss关卡`
- `紧急作战`：从下拉选择后点 `加入紧急作战`
- `隐藏关卡`：从下拉选择后点 `加入隐藏关卡`

说明：
- 隐藏关卡已内置普通/紧急/无漏版本选项，直接选对应项即可
- Boss 关卡已内置普通/无漏版本选项

### 3.4 额外参数（中间下方）
- `结算分数`：手动输入基础结算分
- `开局源石锭`、`结束源石锭`：自动显示 `取钱数 = 开始 - 结束`
- `额外加分`、`额外扣分`

### 3.5 计分明细（右侧）
- 明细表会记录每次加入的关卡与分数
- 支持：`全选`、`删除选中`、`撤回`、`重置计分`
- 右下角显示 `最终得分`

## 4. 计分公式

```text
(结算分数(输入) + 计数加分 + 紧急隐藏 + boss分 + 额外加分 - 额外扣分) * 倍率
```

倍率：
- 难度 n18：`*1.05`
- 持有不息+不赦：`*1.1`
- 两者可叠加

## 5. 文件说明
- `cal.html`：核心页面与计分逻辑
- `main.js`：Electron 启动入口
- `package.json`：依赖与脚本

## 6. 常见问题
1. 下拉分值和规则不一致？
- 下拉分值会随难度和版本实时切换，请确认当前选择的是正确版本（普通/紧急/无漏）。

2. 误操作加错关卡？
- 在右侧明细勾选后点 `删除选中`，或用 `撤回`。

3. 全部重来？
- 点击 `重置计分`。
